<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">
                {{ title }}

                <button
                        class="pull-right margin-right-10 btn btn-success btn-sm"
                        ui-sref="authenticated.single_project({id: projectId})">
                    Back to project
                </button>
            </h1>
        </div>
        <!-- /.col-lg-12 -->
    </div>

    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-list-alt fa-fw"></i>
                    Form
                </div>
                <div class="panel-body">
                    <form
                            ng-submit="doIssue()"
                            name="issueForm"
                            role="form">
                        <fieldset>
                            <div class="form-group">
                                <label>Title</label>
                                <input
                                        ng-model="issue.Title"
                                        required="required"
                                        type="text"
                                        class="form-control"
                                        placeholder="Title"/>
                            </div>
                            <div class="form-group">
                                <label>Description</label>
                                <input
                                        ng-model="issue.Description"
                                        required="required"
                                        type="text"
                                        class="form-control"
                                        placeholder="Description"/>
                            </div>
                            <div class="form-group">
                                <label>Project</label>

                                <select
                                        ng-model="issue.ProjectId"
                                        required="required"
                                        class="form-control">
                                    <option
                                            ng-repeat="project in allProjects | orderBy: 'Id' : true"
                                            value="{{ project.Id }}"
                                    >
                                        {{ project.Name }}
                                    </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>AssigneeId</label>

                                <select
                                        required="required"
                                        ng-model="issue.AssigneeId"
                                        ng-options="user as user.Username for user in allUsers | orderBy: 'Username' track by user.Id"
                                        class="form-control"></select>

                            </div>
                            <div class="form-group">
                                <label>PriorityId</label>

                                <select
                                        ng-model="issue.PriorityId"
                                        required="required"
                                        class="form-control">
                                    <option
                                            ng-repeat="priority in priorities"
                                            value="{{ priority.Id }}"
                                    >
                                        {{ priority.Name }}
                                    </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>DueDate</label>
                                <input
                                        ng-model="issue.DueDate"
                                        required="required"
                                        type="date"
                                        class="form-control"
                                        placeholder="yyyy/mm/dd"/>
                            </div>
                            <div class="form-group">
                                <label>Labels</label>
                                <selectize
                                        required="required"
                                        config="labelsSelectConfig"
                                        options="projectData.Labels"
                                        ng-model="issue.Labels"></selectize>
                            </div>
                            <div class="form-group">
                                <button
                                        ng-disabled="userForm.$invalid || isSubmitBtnDisabled"
                                        type="submit"
                                        class="btn btn-success">Submit
                                </button>
                            </div>
                        </fieldset>
                    </form>

                </div>
            </div>
        </div>
    </div>
    <!-- /.row -->
</div>
<!-- /#page-wrapper -->